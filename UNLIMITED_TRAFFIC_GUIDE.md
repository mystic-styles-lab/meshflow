# –û–ø—Ü–∏—è "–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫"

## –û–±–∑–æ—Ä
–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞—Ä–∏—Ñ—ã —Å –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–º —Ç—Ä–∞—Ñ–∏–∫–æ–º. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ç–∞–∫–∏–º —Ç–∞—Ä–∏—Ñ–æ–º –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –æ–±—ä–µ–º–æ–º –¥–∞–Ω–Ω—ã—Ö.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤–æ–µ –ø–æ–ª–µ: `unlimited_traffic`
- –¢–∏–ø: INTEGER (0 –∏–ª–∏ 1)
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 0 (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫)
- –ó–Ω–∞—á–µ–Ω–∏–µ: 1 = –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π, 0 = –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π

### –ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
```sql
ALTER TABLE tariffs ADD COLUMN unlimited_traffic INTEGER DEFAULT 0
```

## API –∏–∑–º–µ–Ω–µ–Ω–∏—è

### POST /api/tariffs/
–î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `unlimitedTraffic` (boolean):
```json
{
  "name": "Premium Unlimited",
  "description": "–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ",
  "price": 990,
  "durationDays": 30,
  "trafficLimit": 0,
  "unlimitedTraffic": true,
  "maxConnections": 5,
  "speedLimit": 0
}
```

### PUT /api/tariffs/{id}
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å `unlimitedTraffic`:
```json
{
  "unlimitedTraffic": true
}
```

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **"–¢–∞—Ä–∏—Ñ—ã"** (7-—è –≤–∫–ª–∞–¥–∫–∞)
2. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —Ç–∞—Ä–∏—Ñ"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - –ù–∞–∑–≤–∞–Ω–∏–µ
   - –û–ø–∏—Å–∞–Ω–∏–µ
   - –¶–µ–Ω–∞
   - –°—Ä–æ–∫ (–¥–Ω–µ–π)
   - –¢—Ä–∞—Ñ–∏–∫ (–ì–ë) - **–±—É–¥–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω –±–µ–∑–ª–∏–º–∏—Ç**
   - **–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫** ‚Üê –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å (–Ω–æ–≤–æ–µ!)
   - –ú–∞–∫—Å. –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
   - –°–∫–æ—Ä–æ—Å—Ç—å

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ
- –ö–æ–ª–æ–Ω–∫–∞ "–¢—Ä–∞—Ñ–∏–∫" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
  - –û–±—ã—á–Ω—ã–π —Ç–∞—Ä–∏—Ñ: "100 GB", "500 GB" –∏ —Ç.–¥.
  - –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π: "‚àû –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π"

## Telegram Mini App

–í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Telegram Mini App —Ç–∞—Ä–∏—Ñ—ã —Å –±–µ–∑–ª–∏–º–∏—Ç–æ–º –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å —Å–∏–º–≤–æ–ª–æ–º ‚àû:
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π**: üìä 100 GB
- **–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π**: üìä ‚àû –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Ç–∞—Ä–∏—Ñ
```bash
curl -X POST http://localhost:8000/api/tariffs/ \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Starter",
    "price": 199,
    "durationDays": 30,
    "trafficLimit": 107374182400,
    "unlimitedTraffic": false,
    "maxConnections": 2
  }'
```

### –°–æ–∑–¥–∞—Ç—å –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ
```bash
curl -X POST http://localhost:8000/api/tariffs/ \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Ultimate",
    "price": 999,
    "durationDays": 30,
    "trafficLimit": 0,
    "unlimitedTraffic": true,
    "maxConnections": 10
  }'
```

### –°–¥–µ–ª–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ç–∞—Ä–∏—Ñ –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–º
```bash
curl -X PUT http://localhost:8000/api/tariffs/1 \
  -H "Content-Type: application/json" \
  -d '{
    "unlimitedTraffic": true
  }'
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–¶–µ–Ω–∞**: –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –æ–±—ã—á–Ω–æ –¥–æ—Ä–æ–∂–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö
2. **trafficLimit**: –ú–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ 0 –¥–ª—è –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã—Ö, –Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
3. **–ö–æ–º–±–∏–Ω–∞—Ü–∏—è**: –ú–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å (`speedLimit`) –¥–∞–∂–µ —Å –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–º —Ç—Ä–∞—Ñ–∏–∫–æ–º
4. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–µ "–¢—Ä–∞—Ñ–∏–∫ (–ì–ë)"

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- `app/services/tariffs/database.py` - —Å—Ö–µ–º–∞ –ë–î
- `app/routers/tariffs.py` - API endpoints
- `app/dashboard/src/components/TariffManagement.tsx` - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `app/dashboard/src/components/TelegramMiniApp.tsx` - Mini App –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–∞—Ä–∏—Ñ—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–µ—é—Ç `unlimited_traffic = 0`  
‚úÖ API —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –Ω–æ–≤–æ–µ –ø–æ–ª–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ  
‚úÖ –°—Ç–∞—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç—ã –ø—Ä–æ—Å—Ç–æ –Ω–µ —É–≤–∏–¥—è—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å
